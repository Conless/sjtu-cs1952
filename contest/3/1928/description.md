# 附录: 2048

有哪台电脑没有电子游戏呢? Hack 进系统之后的第一件事当然就是远程连接打 2048 了! (编译下发文件中的 term.cpp 可以得到一个在终端中运行的 2048; 控制使用 WASD 或 HJKL 或方向键均可，按 Q 退出。)

<details>
<summary>2048 游戏的规则说明</summary>

该游戏使用方向键让方块整体上下左右移动。如果两个带有相同数字的方块在移动中碰撞，则它们会合并为一个方块，且所带数字变为两者之和。每次移动时，会有一个值为 2 或者 4 的新方块出现，所出现的数字都是 2 的幂。

——维基百科

***

</details>

作为一个 [TAS](https://en.wikipedia.org/wiki/Tool-assisted_speedrun) 选手，你自然也想速通 2048。不过，既然 TAS 里都能控制随机数了，为什么不能直接自己指定 2 生成的位置呢?

### 提示

输入格式: 每行两个数和一个字母 (wasd 或 hjkl 大小写均可), 两个数 (0-based) 表示放置 2 的位置，字母表示移动方向。例如输入 `0 2 s` 表示在第一行第三列生成一个 1 并向下移动。

如果想手工构造, 可以编译并运行 manual.cpp，每步输入后程序会显示当前状态，按 q 退出后程序会打印出所有的输入，可直接用于提交。

作为参考，这是一份可以获得分数的代码:

```c
#include <stdio.h>
#include <stdlib.h>

int main () {
  for (int i = 0; i < 4096; ++i) {
    printf("%d %d %c\n", rand() % 4, rand() % 4, "WASD"[rand() % 4]);
  }
  return 0;
}
```

本题满分为 200 分。
